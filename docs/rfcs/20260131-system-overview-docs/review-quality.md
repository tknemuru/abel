## Technical Quality Reviewer によるレビュー結果

### 1. 判定 (Decision)

- **Status**: Approve

**判定基準:** P0 が1件以上存在する場合は Request Changes とする。P0 が0件の場合は Approve とする。

本 RFC はドキュメントの再編・統合であり、コード変更を伴わない。設計としてシンプルかつ過剰な複雑さがなく、既存情報の移行方針が明確に定義されている。P0 に該当する論理的欠陥・仕様漏れは認められない。

### 2. 良い点 (Strengths)

- **5.1 マッピング表の網羅性と追跡可能性**: `arch.md` 全10セクション、`spec.md` 全9セクションについて、移行先を1対1で明示している。実際の既存ドキュメントのセクション見出しと照合した結果、漏れは確認されなかった。このマッピング表は実装時のチェックリストとして直接利用可能であり、テスト容易性（手動検証の網羅性）を確保している。

- **全体設計のシンプルさ**: 「既存2ファイルの内容を新3ファイルに再編し、旧ファイルを削除する」という方針は、必要最小限の操作で目的を達成する設計である。Over-engineering に陥っていない。段階的リリースやフィーチャーフラグ等の不要な複雑性を排除し、単一フェーズでの実施とした判断は、ドキュメントのみの変更というリスク特性に適合している。

- **5.2 [仮定] セクションの明示**: abel が CLI ツールであるにもかかわらず `api-overview.md` を作成する判断とその読み替えルール（エンドポイント → CLI コマンド、認証方式 → 外部サービス接続方式）を明記している。暗黙の仮定を残さない姿勢は、保守性の観点から評価できる。

- **6. 代替案の検討**: 3案の比較において、各案の長所・短所が具体的かつ簡潔に記述されている。案B の選定理由が「シンプルさ」と「目的の異なるドキュメントを無理に統合しない」という原則に基づいており、技術的に妥当である。

### 3. 指摘事項 (Issues)

#### Severity 定義

| Severity | 定義 |
| :--- | :--- |
| **P0 (Blocker)** | 修正必須。論理的欠陥、仕様漏れ、重大なリスク、回答必須の質問 |
| **P1 (Nit)** | 提案。より良い手法、軽微な懸念、参考情報 |

#### 指摘一覧

P0: 該当なし

**[P1-1] `ops.md` のコマンド一覧と `api-overview.md` の CLI エントリポイントの情報重複リスク**
- **対象セクション**: 5.2 新ドキュメントの構成（docs/api-overview.md「CLI エントリポイント」）
- **内容**: `api-overview.md` の「CLI エントリポイント」セクションに「全 npm scripts コマンドの一覧と概要」を記載する計画であるが、`ops.md` の「コマンド一覧」セクション（13コマンドの一覧表）と内容が重複する。本 RFC の動機の一つが「情報の重複・分散の解消」であるにもかかわらず、新たな重複を生み出す設計となっている。`ops.md` は改廃対象外であるため、今後コマンドが追加・変更された際に `api-overview.md` と `ops.md` の両方を更新する二重管理が発生する。
- **修正の期待値**: `api-overview.md` の CLI エントリポイントセクションでは、コマンドの網羅的な一覧は `ops.md` への参照に留め、`api-overview.md` 自体には主要フロー仕様のエントリポイント（`npm run purchase-ipat`, `npm run check-purchase` 等）のみを記載する方針とすることを推奨する。あるいは、コマンド一覧の SoT を `api-overview.md` に移動し `ops.md` 側を参照に変えるという選択肢もあるが、本 RFC のスコープ（`ops.md` の改廃を含まない）を超えるため、前者の方針が現実的である。

**[P1-2] 既存コードベースとの整合性: `arch.md` の DDL 参照リンクの移行方針が未定義**
- **対象セクション**: 5.1 既存ドキュメントと新ドキュメントの対応関係（arch.md「DB スキーマ概要」）
- **内容**: `arch.md` の「DB スキーマ概要」セクションには、`resources/sqls/create_*.sql` への相対リンクが5件含まれている（例: `[create_race_result.sql](../resources/sqls/create_race_result.sql)`）。これらのリンクは `docs/arch.md` からの相対パスであり、移行先の `docs/domain-model.md` でも同じ相対パスで動作するため技術的には問題ないが、マッピング表の備考欄に「そのまま移行」と記載されているのみで、リンクの動作確認がテスト戦略に含まれていない。7.4 節では `learning-data-contract.md` への相対リンクの再設定のみ言及しており、DDL への相対リンクへの考慮が抜けている。
- **修正の期待値**: テスト戦略（8節）の「新ドキュメント内のリンク（相対パス）が正しく機能すること」の検証項目に、DDL ファイルへの相対リンクが含まれることを実装時に意識する程度でよい。テスト戦略自体には既に「リンクの正しい機能」が記載されているため、明示的な修正は不要であるが、7.4 節の既知リンクの列挙が不完全であることを認識しておくことを推奨する。

**[P1-3] `architecture.md` の「技術スタック」セクションの情報源が不明確**
- **対象セクション**: 5.2 新ドキュメントの構成（docs/architecture.md「技術スタック」）
- **内容**: `architecture.md` の構成案に「技術スタック: Node.js, SQLite, Puppeteer, Jupyter 連携 等」というセクションが定義されているが、5.1 のマッピング表に「技術スタック」に対応する既存セクションの移行元が存在しない。`spec.md` の「データストア」は `architecture.md` に移行する計画であるが、「技術スタック」セクション全体としてはどの既存セクションの再編なのか、あるいは新規に記述するのかが不明確である。Non-Goals に「ドキュメント内容の大幅な加筆・調査（既存情報の再編が主目的）」と記載されているため、新規記述のスコープが曖昧になる可能性がある。
- **修正の期待値**: 「技術スタック」セクションの情報源を明確にすることを推奨する。実態としては、`arch.md` の「設計判断とトレードオフ」セクション（Puppeteer、Jupyter、SQLite の技術選定根拠が記載）および `spec.md` の「データストア」セクションから情報を集約する形になると推測される。マッピング表にこの対応を追記するか、実装時の注記として残しておくことで、移行時の判断のブレを防げる。

**[P1-4] 移行完了後のドキュメント保守性に関する考慮**
- **対象セクション**: 7. 横断的関心事
- **内容**: 本 RFC は移行作業の設計として十分であるが、移行完了後の保守運用に関する言及がない。具体的には、(1) 新3ドキュメントの更新タイミング（コード変更時に同期的に更新するのか、定期的にレビューするのか）、(2) ドキュメントの陳腐化を検知する手段（可観測性の観点）が未定義である。ドキュメントのみの変更であるためテスト自動化は困難であるが、例えば PR テンプレートにドキュメント更新の確認項目を追加する等の軽量な仕組みが考えられる。ただし、これは本 RFC のスコープ（ドキュメント再編）を超える内容であり、別途検討すべき事項である。
- **修正の期待値**: 本 RFC への修正は不要である。将来的にドキュメントの保守運用ルールを検討する際の参考情報として記載した。
